<div *ngIf='load; then loaded else loadButton'>
</div>

<!-- Loaded -->
<ng-template #loaded>
 <div>
  <button (click)='fillList()'>Fill List</button>
</div>

<div class="moves-wrapper">
  <!-- <div>
    <strong>Selected Move: </strong> {{ selectedMove }}
  </div>
  <div>
    <ul class="moves-list" *ngFor="let move of moves | async">
      <li (click)='setSelection( move.name )' class="moves-list-item">
        {{ move.name }} <strong>{{move.cost}}</strong>
      </li>
    </ul>
  </div> -->
<!-- CREATE MOVE -->
  <div>
    <input type="text" name="name" placeholder="name" [(ngModel)]='currentMove.name'><br>
    <input type="text" name="cost" placeholder="ex...12 mp" [(ngModel)]='currentMove.cost'><br>
    <input type="text" name="class/race" placeholder="classes and/or races..." [(ngModel)]='currentMove.classRace'> <br>
    <select name="type" [(ngModel)]='currentMove.type'>
      <option *ngFor='let type of types' [ngValue]='type'> {{type}} </option>
    </select> <br>
    <select name="category" [(ngModel)]='currentMove.category'>
      <option *ngFor='let category of categories' [ngValue]='category'> {{category}} </option>
    </select>
    <div>
      <textarea name="effect" placeholder="effect..." [(ngModel)]='currentMove.effect'>
        {{currentMove.effect}}
      </textarea>
      <div *ngFor="let extra of extras; let i=index;">
        <!-- <input type="number" [(ngModel)]='currentMove.extras[i].index'/> -->
        <input type="text" [(ngModel)]='extra.condition'/>
        <input type="text" [(ngModel)]='extra.effect'/>
        <button type="button" (click)="removeExtra(i)">remove</button>
      </div>
      <button type="button" (click)="addExtra()">Add extra</button>
    </div> 
    <br>
    <button (click)='submitMove()'>Submit</button>
    <div class="json">
      {{currentMove | json}}
    </div>
    <div class="json">
      {{extras | json}}
    </div>
  </div>
<!-- create move END -->
</div>
</ng-template>

<!-- Button to load -->
<ng-template #loadButton>
  <button (click)='loadList()'>Load Moves</button>
</ng-template>